bucket_defaults:  # For all buckets
  ram_quota_mb: 100
  bucket_type: couchbase
  num_replicas: 0
  flush_enabled: false
  conflict_resolution_type: sequence_number
  eviction_policy: value_only
  compression_mode: off

collection_defaults:  # For all collections
  max_ttl: 0  # seconds

buckets:
  main:
    defaults:  # Per-bucket defaults across envs
      flush_enabled: true
      compression_mode: passive
    env_settings:
      dev:
        ram_quota_mb: 100
        num_replicas: 0
      test:
        ram_quota_mb: 150
        num_replicas: 1
      staging:
        ram_quota_mb: 500
        num_replicas: 2
        flush_enabled: false
        eviction_policy: full_eviction
        compression_mode: active
      prod:
        ram_quota_mb: 2048
        num_replicas: 3
        flush_enabled: false
        eviction_policy: full_eviction
        compression_mode: active
    scopes:
      _default:
        collections:
          users:
            defaults:  # Per-collection defaults across envs
              max_ttl: 3600
            env_settings:
              staging:
                max_ttl: 7200
              prod:
                max_ttl: 7200
          sessions: {}  # No settings; uses collection_defaults
          documents: {}  # No settings; uses collection_defaults

  cache:
    defaults:
      flush_enabled: true
      eviction_policy: full_eviction
    env_settings:
      dev:
        ram_quota_mb: 50
        num_replicas: 0
      test:
        ram_quota_mb: 75
        num_replicas: 0
      staging:
        ram_quota_mb: 200
        num_replicas: 1
      prod:
        ram_quota_mb: 1024
        num_replicas: 2
    scopes:
      _default:
        collections:
          temp_data:
            defaults:
              max_ttl: 1800  # 30 minutes
            env_settings:
              prod:
                max_ttl: 3600  # 1 hour in production
